shadow$provide.module$node_modules$rxjs$dist$cjs$internal$operators$share=function(global,require,module,exports){function handleReset(reset,on){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];if(!0===on)reset();else if(!1!==on){var onSubscriber=new Subscriber_1.SafeSubscriber({next:function(){onSubscriber.unsubscribe();reset()}});return on.apply(void 0,__spreadArray([],__read(args))).subscribe(onSubscriber)}}var __read=this&&this.__read||function(o,n){var m="function"===typeof Symbol&&
o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){var e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error;}}return ar},__spreadArray=this&&this.__spreadArray||function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to};Object.defineProperty(exports,"__esModule",{value:!0});exports.share=void 0;var innerFrom_1=require("module$node_modules$rxjs$dist$cjs$internal$observable$innerFrom"),
Subject_1=require("module$node_modules$rxjs$dist$cjs$internal$Subject"),Subscriber_1=require("module$node_modules$rxjs$dist$cjs$internal$Subscriber"),lift_1=require("module$node_modules$rxjs$dist$cjs$internal$util$lift");exports.share=function(options){void 0===options&&(options={});var _a=options.connector,connector=void 0===_a?function(){return new Subject_1.Subject}:_a;_a=options.resetOnError;var resetOnError=void 0===_a?!0:_a;_a=options.resetOnComplete;var resetOnComplete=void 0===_a?!0:_a;options=
options.resetOnRefCountZero;var resetOnRefCountZero=void 0===options?!0:options;return function(wrapperSource){var connection,resetConnection,subject,refCount=0,hasCompleted=!1,hasErrored=!1,cancelReset=function(){null===resetConnection||void 0===resetConnection?void 0:resetConnection.unsubscribe();resetConnection=void 0},reset=function(){cancelReset();connection=subject=void 0;hasCompleted=hasErrored=!1},resetAndUnsubscribe=function(){var conn=connection;reset();null===conn||void 0===conn?void 0:
conn.unsubscribe()};return lift_1.operate(function(source,subscriber){refCount++;hasErrored||hasCompleted||cancelReset();var dest=subject=null!==subject&&void 0!==subject?subject:connector();subscriber.add(function(){refCount--;0!==refCount||hasErrored||hasCompleted||(resetConnection=handleReset(resetAndUnsubscribe,resetOnRefCountZero))});dest.subscribe(subscriber);!connection&&0<refCount&&(connection=new Subscriber_1.SafeSubscriber({next:function(value){return dest.next(value)},error:function(err){hasErrored=
!0;cancelReset();resetConnection=handleReset(reset,resetOnError,err);dest.error(err)},complete:function(){hasCompleted=!0;cancelReset();resetConnection=handleReset(reset,resetOnComplete);dest.complete()}}),innerFrom_1.innerFrom(source).subscribe(connection))})(wrapperSource)}}}
//# sourceMappingURL=module$node_modules$rxjs$dist$cjs$internal$operators$share.js.map
