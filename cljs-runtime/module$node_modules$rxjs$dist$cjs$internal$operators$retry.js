shadow$provide.module$node_modules$rxjs$dist$cjs$internal$operators$retry=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.retry=void 0;var lift_1=require("module$node_modules$rxjs$dist$cjs$internal$util$lift"),OperatorSubscriber_1=require("module$node_modules$rxjs$dist$cjs$internal$operators$OperatorSubscriber"),identity_1=require("module$node_modules$rxjs$dist$cjs$internal$util$identity"),timer_1=require("module$node_modules$rxjs$dist$cjs$internal$observable$timer"),
innerFrom_1=require("module$node_modules$rxjs$dist$cjs$internal$observable$innerFrom");exports.retry=function(configOrCount){void 0===configOrCount&&(configOrCount=Infinity);configOrCount=configOrCount&&"object"===typeof configOrCount?configOrCount:{count:configOrCount};var _a=configOrCount.count,count=void 0===_a?Infinity:_a,delay=configOrCount.delay;configOrCount=configOrCount.resetOnSuccess;var resetOnSuccess=void 0===configOrCount?!1:configOrCount;return 0>=count?identity_1.identity:lift_1.operate(function(source,
subscriber){var soFar=0,innerSub,subscribeForRetry=function(){var syncUnsub=!1;innerSub=source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber,function(value){resetOnSuccess&&(soFar=0);subscriber.next(value)},void 0,function(err){if(soFar++<count){var resub_1=function(){innerSub?(innerSub.unsubscribe(),innerSub=null,subscribeForRetry()):syncUnsub=!0};if(null!=delay){err="number"===typeof delay?timer_1.timer(delay):innerFrom_1.innerFrom(delay(err,soFar));var notifierSubscriber_1=
OperatorSubscriber_1.createOperatorSubscriber(subscriber,function(){notifierSubscriber_1.unsubscribe();resub_1()},function(){subscriber.complete()});err.subscribe(notifierSubscriber_1)}else resub_1()}else subscriber.error(err)}));syncUnsub&&(innerSub.unsubscribe(),innerSub=null,subscribeForRetry())};subscribeForRetry()})}}
//# sourceMappingURL=module$node_modules$rxjs$dist$cjs$internal$operators$retry.js.map
