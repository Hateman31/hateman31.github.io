{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$windowTime.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/windowTime.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$windowTime\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.windowTime = void 0;\nvar Subject_1 = require(\"../Subject\");\nvar async_1 = require(\"../scheduler/async\");\nvar Subscription_1 = require(\"../Subscription\");\nvar lift_1 = require(\"../util/lift\");\nvar OperatorSubscriber_1 = require(\"./OperatorSubscriber\");\nvar arrRemove_1 = require(\"../util/arrRemove\");\nvar args_1 = require(\"../util/args\");\nvar executeSchedule_1 = require(\"../util/executeSchedule\");\nfunction windowTime(windowTimeSpan) {\n    var _a, _b;\n    var otherArgs = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        otherArgs[_i - 1] = arguments[_i];\n    }\n    var scheduler = (_a = args_1.popScheduler(otherArgs)) !== null && _a !== void 0 ? _a : async_1.asyncScheduler;\n    var windowCreationInterval = (_b = otherArgs[0]) !== null && _b !== void 0 ? _b : null;\n    var maxWindowSize = otherArgs[1] || Infinity;\n    return lift_1.operate(function (source, subscriber) {\n        var windowRecords = [];\n        var restartOnClose = false;\n        var closeWindow = function (record) {\n            var window = record.window, subs = record.subs;\n            window.complete();\n            subs.unsubscribe();\n            arrRemove_1.arrRemove(windowRecords, record);\n            restartOnClose && startWindow();\n        };\n        var startWindow = function () {\n            if (windowRecords) {\n                var subs = new Subscription_1.Subscription();\n                subscriber.add(subs);\n                var window_1 = new Subject_1.Subject();\n                var record_1 = {\n                    window: window_1,\n                    subs: subs,\n                    seen: 0,\n                };\n                windowRecords.push(record_1);\n                subscriber.next(window_1.asObservable());\n                executeSchedule_1.executeSchedule(subs, scheduler, function () { return closeWindow(record_1); }, windowTimeSpan);\n            }\n        };\n        if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n            executeSchedule_1.executeSchedule(subscriber, scheduler, startWindow, windowCreationInterval, true);\n        }\n        else {\n            restartOnClose = true;\n        }\n        startWindow();\n        var loop = function (cb) { return windowRecords.slice().forEach(cb); };\n        var terminate = function (cb) {\n            loop(function (_a) {\n                var window = _a.window;\n                return cb(window);\n            });\n            cb(subscriber);\n            subscriber.unsubscribe();\n        };\n        source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n            loop(function (record) {\n                record.window.next(value);\n                maxWindowSize <= ++record.seen && closeWindow(record);\n            });\n        }, function () { return terminate(function (consumer) { return consumer.complete(); }); }, function (err) { return terminate(function (consumer) { return consumer.error(err); }); }));\n        return function () {\n            windowRecords = null;\n        };\n    });\n}\nexports.windowTime = windowTime;\n//# sourceMappingURL=windowTime.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","windowTime","Subject_1","async_1","Subscription_1","lift_1","OperatorSubscriber_1","arrRemove_1","args_1","executeSchedule_1","windowTimeSpan","_a","_b","otherArgs","_i","arguments","length","scheduler","popScheduler","asyncScheduler","windowCreationInterval","maxWindowSize","Infinity","operate","source","subscriber","windowRecords","restartOnClose","closeWindow","record","subs","window","complete","unsubscribe","arrRemove","startWindow","Subscription","add","window_1","Subject","record_1","seen","push","next","asObservable","executeSchedule","terminate","cb","slice","forEach","subscribe","createOperatorSubscriber","consumer","err","error"]
}
